#include <iostream>
#include <algorithm>
#include <string>
#include <windows.h>

using namespace std;

struct user {
	int feed, msleep, bathe, play;
	int food, sleep, smell, happy;
	string name, action;
};

int feedsp(int fed, int rando) {
	fed = fed + rando;

	if (fed >= 50) {
		fed = 50;
	}

	return fed;
}

int sleepsp(int sleeps, int rando) {
	sleeps = sleeps + rando;

	if (sleeps >= 50) {
		sleeps = 50;
	}

	return sleeps;
}

int bathesp(int bathes, int rando) {
	bathes = bathes + rando;

	if (bathes >= 50) {
		bathes = 50;
	}

	return bathes;
}

int playssp(int plays, int rando) {
	;
	plays = plays + rando;

	if (plays >= 50) {
		plays = 50;
	}

	return plays;
}

int feedsm(int fed, int rando) {
	fed = fed - rando;

	return fed;
}

int sleepsm(int sleeps, int rando) {
	sleeps = sleeps - rando;

	return sleeps;
}

int bathesm(int bathes, int rando) {
	bathes = bathes - rando;

	return bathes;
}

int playssm(int plays, int rando) {
	plays = plays - rando;

	return plays;
}

int main() {
	srand(time(0));
	user pet;

	pet.food = 40;
	pet.sleep = 40;
	pet.smell = 40;
	pet.happy = 40;

	for (int i = 1; i <= 76; i++) {
		cout << "#";
		if (i == 76) {
			cout << "\n";
			for (int j = 0; j <= 25; j++) {
				cout << " ";
			}
			cout << "Welcome to Pet Simulator!";
		}
	}

	for (int j = 0; j <= 25; j++) {
		cout << " ";
		if (j == 25) {
			cout << "\n";
			for (int i = 1; i <= 76; i++) {
				cout << "#";
			}
		}
	}

	cout << "\nStart?(Y/N)\n";
	getline(cin, pet.action);

	transform(pet.action.begin(), pet.action.end(), pet.action.begin(), toupper);

	if (pet.action == "Y") {
		goto VirtualPet;
	}
	else {
		exit(0);
	}

VirtualPet: cout << "\nEnter name for pet:\n";
	getline(cin, pet.name);

	transform(pet.name.begin(), pet.name.end(), pet.name.begin(), toupper);

GAME: system("CLS");

	int rando1 = 1 + rand() % 10;
	int rando2 = 1 + rand() % 10;
	int rando3 = 1 + rand() % 10;
	int rando4 = 1 + rand() % 10;

	if (pet.food <= 0 || pet.sleep <= 0 || pet.smell <= 0 || pet.happy <= 0) {
		system("CLS");
		cout << "GAMEOVER!";
		exit(0);
	}

	cout << "*Use EXIT to leave the game.*\n";
	cout << "*Use FEED for hunger, SLEEP for energy, BATHE for smell, and PLAY for happiness.*\n\n";
	cout << "Pet: " << pet.name;

	cout << "\n\nHunger: " << pet.food << "\nEnergy: " << pet.sleep;
	cout << "\nSmell: " << pet.smell << "\nHappiness: " << pet.happy;

QUESTION: cout << "\n\nAction?\n";
	cin >> pet.action;

	transform(pet.action.begin(), pet.action.end(), pet.action.begin(), toupper);

	if (pet.action == "FEED") {
		pet.food = feedsp(pet.food, rando1);
		pet.sleep = sleepsm(pet.sleep, rando2);
		pet.smell = bathesm(pet.smell, rando3);
		pet.happy = playssm(pet.happy, rando4);
		goto GAME;
	}

	else if (pet.action == "SLEEP") {
		pet.food = feedsm(pet.food, rando1);
		pet.sleep = sleepsp(pet.sleep, rando2);
		pet.smell = bathesm(pet.smell, rando3);
		pet.happy = playssm(pet.happy, rando4);
		goto GAME;
	}

	else if (pet.action == "BATHE") {
		pet.food = feedsm(pet.food, rando1);
		pet.sleep = sleepsm(pet.sleep, rando2);
		pet.smell = bathesp(pet.smell, rando3);
		pet.happy = playssm(pet.happy, rando4);
		goto GAME;
	}

	else if (pet.action == "PLAY") {
		pet.food = feedsm(pet.food, rando1);
		pet.sleep = sleepsm(pet.sleep, rando2);
		pet.smell = bathesm(pet.smell, rando3);
		pet.happy = playssp(pet.happy, rando4);
		goto GAME;
	}
	else if (pet.action == "EXIT") {
		exit(0);
	}

	else {
		goto QUESTION;
	}
}
